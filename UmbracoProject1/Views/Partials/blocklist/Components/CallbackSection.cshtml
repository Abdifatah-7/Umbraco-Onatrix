@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Umbraco.Cms.Core.Models.Blocks.BlockListItem>
@using ContentModels = Umbraco.Cms.Web.Common.PublishedModels;
@using UmbracoProject1.ViewModels

@{
    var content = (ContentModels.CallbackSection)Model.Content;
    var settings = Model.Settings as ContentModels.CallbackSettings;

    var formVM = new CallbackFormViewModel
    {
        Options = settings?.CallbackRequestOption ?? []
    };
}

<section class="py-28">
    <div class="max-w-7xl mx-auto px-4 flex gap-10">

        <div class="flex flex-col w-7/12">
            <div class="px-[2rem]">
                <p class="text-secondary font-bold text-[.875rem] uppercase">@content.CallbackSectionLabel</p>
                <h2 class="text-primary font-bold !text-[40px] pb-6">@content.CallbackSectionHeadline</h2>
                <p class="text-body-text text-[20px] font-light italic pb-3 ">@content.CallbackSectionQuoto</p>
                <p>@content.CallbackSectionText</p>
            </div>

            <div class="px-[2rem]">
                @if (content.CallbackSectionSignatureImg != null)
                {
                    <img class="!w-[160px]" src="@content.CallbackSectionSignatureImg.Url()" />
                }
                <p class="text-body-text font-normal">@content.CallbackSectionSignatureText</p>
            </div>

        </div>

        <div class="flex flex-col w-5/12 shadow-md -mt-[11rem] z-[99]">
            <div class="bg-[#4F5955]">
                <p class="text-[#F2EDDC] py-[1.5rem] px-[2rem] text-[1.875rem] font-bold"> @content.CallbackFormTitle </p>

            </div>
                <p class="text-sm py-[1.5rem] px-[2rem] italic">
                    @content.CallbackFormDescription
                </p>

            <partial name="Partials/Forms/_CallbackForm" model="formVM" />

            @if (TempData["FormSuccess"] != null)
            {
                <div class="bg-green-50 text-green-700 p-4 mx-[2rem] mb-4 rounded-md">
                    @TempData["FormSuccess"]
                </div>
                TempData.Remove("FormSuccess");
            }
            else if (TempData["FormError"] != null)
            {
                <div class="bg-red-50 text-red-700 p-4 mx-[2rem] mb-4 rounded-md">
                    @TempData["FormError"]
                </div>
                TempData.Remove("FormError");
            }

        </div>

    </div>
</section>
